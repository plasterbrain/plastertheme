jQuery(function(n){function e(e){e.length&&(e.is(":focusable")||e.attr("tabindex",-1).on("blur focusout",function(){n(this).removeAttr("tabindex")}),e.focus())}var i=n("#main-menu"),a=n("#nav-main__toggle");if(n.extend(n.expr[":"],{focusable:function(e){var i=n(e);return i.is(":input:enabled, a[href], area[href], object, [tabindex] ")&&!i.is(":hidden")}}),n(document).ready(function(){document.location.hash&&e(n(document.location.hash)),n(window).bind("hashchange",function(){var i="#"+window.location.hash.replace(/^#/,"");e(n(i))})}),!i)return void a.hide();i.hide(),n("#nav-main__toggle").click(function(){var e=n(this),i=n("#main-menu");i.slideToggle("medium",function(){n(this).is(":visible")&&n(this).css("display","inline-block")}),i.hasClass("toggled")?(i.removeClass("toggled"),e.attr("aria-expanded","false")):(i.addClass("toggled"),e.attr("aria-expanded","true"))}),n("#main-menu a").focus(function(){n(this).siblings("li ul").addClass("focused")}).blur(function(){n(this).siblings("li ul").removeClass("focused")}),"ontouchstart"in window&&n(".menu-item-has-children > a").each(function(){n(this).on("touchstart",function(e){var i=n(this).parent()[0];i.hasClass("focus")?i.removeClass("focus"):(e.preventDefault(),i.parent()[0].children().each(function(){n(this)!==i&&n(this).removeClass("focus")}),i.addClass("focus"))})})});